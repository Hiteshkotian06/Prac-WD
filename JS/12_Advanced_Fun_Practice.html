<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Function Practice</title>
</head>
<body>
  <button onclick="startC()" class="startButtonC" style="display: block; margin-bottom: 15px;">
    Start
  </button>

  <button onclick="startD()" class="startButtonD" style="display: block; margin-bottom: 15px;">
    Start
  </button>

  <button onclick="addToCart()" class="startButtonD" style="display: block; margin-bottom: 15px;">
    Add To Cart
  </button>
  <div class="cartAddingText"></div>

  <button onclick="addMessage('addMessage')" class="startButtonD" style="display: block; margin-bottom: 15px;">
    Add Message
  </button>
  <button onclick="addMessage('removeMessage')" class="startButtonD" style="display: block; margin-bottom: 15px;">
    Remove Message
  </button>
    <button class="startButtonE addEventListenerClass" style="display: block; margin-bottom: 15px;">Click for addEventListener</button>
  <script>
    // 12.a
    const add = function () {
      console.log(2+3);
    }
    add();
    add();

    // 12.b
    function runTwice(fun) {
      fun();
      fun();
    }

    runTwice(function() {
      console.log('12b ');
    });
    
    runTwice(add);

    // 12.c
    function startC(){
      const classElementC = document.querySelector('.startButtonC')
      
      if(classElementC.innerHTML === 'Start'){
      setTimeout(function() {
      classElementC.innerHTML = 'Finished'
      },1000);}
      else {
        classElementC.innerHTML = 'Start'
      }
    }

    // 12.D
    function startD(){
    const classElementD = document.querySelector('.startButtonD')
    
    if(classElementD.innerHTML === 'Start'){
      classElementD.innerHTML = 'Loading ...'
      setTimeout(function() {
      classElementD.innerHTML = 'Finished'
      },1000);}
      else {
        classElementD.innerHTML = 'Start'
      }
    }

    // 12.E
    function addToCart(){
      const inputElement = document.querySelector('.cartAddingText')
      inputElement.innerHTML = 'Added'
      setTimeout(function(){
        inputElement.innerHTML = ''
      },2000);
    }
    
    // 12.G
    // setInterval(
    // function changeTitle(){
    //   if (document.title === 'Advanced Function Practice'){
    //     document.title = '(2) New Message'
    //   }
    //   else{
    //     document.title = 'Advanced Function Practice'
    //   }
    // }, 1000)

    // 12.H
    let count = 0;
    function addMessage(value){
      if (value === 'addMessage'){
        count+= 1
      }
      else if (value === 'removeMessage'){
        count-= 1
      }
    }
    setInterval(
      function changeTitle(){
        if (count <=0){
          document.title = 'Advanced Function Practice'
        }
        else{
        if (document.title === 'Advanced Function Practice'){
          document.title = `(${count}) New Message`
        }
        else{
          document.title = 'Advanced Function Practice'
        } }
    }, 1000)
  
    // 12.J
    let multiply = (a,b) => {
      return a*b
    }
    console.log(multiply(2,3));
    console.log(multiply(7,10));

    // 12.K
    let multiply2 = (a,b) => a*b;
    console.log(multiply(2,3));
    console.log(multiply(7,10));

    // 12.L
    function countPositive(nums){
      positiveNum = 0
      nums.forEach((num) => {
        if (num > 0){
          positiveNum++
        }
      })
      return positiveNum;
    }
    console.log(countPositive([1,-3,5]))
    console.log(countPositive([-2,3,-5,7,10]))

    // 12.M
    // function addNum(array, num){
    //   return array.map((value) => value+num);
    // }

    const addNum = (array, num) => array.map((value) => value+num);     // THis is shorthand of above 
    console.log(addNum([1,2,3],2));
    console.log(addNum([-2,-1,0,99],2));
    

    // 12.N
    const removeEgg = (food) => food.filter((value) => value !== 'egg')
    console.log(removeEgg(['apple', 'egg', 'mango', 'egg']))

    // 12.O
    function removeEgg2(food){
      let removedEgg = 0;
      return food.filter((value) => {
        if (value === 'egg' && removedEgg <2){
          removedEgg++;
          return false
        }
        return true
      })
    }
    console.log(removeEgg2(['apple', 'egg', 'mango', 'egg']));

    // 12.P & 12.Q
    const classElementE = document.querySelector('.startButtonE')

    classElementE.addEventListener('click', startButtonE);
    
    function startButtonE(){
    
    if(classElementE.innerHTML === 'Click for addEventListener'){
      classElementE.innerHTML = 'Loading ...'
      setTimeout(() => {
      classElementE.innerHTML = 'Finished'
      },1000);}
      else {
        classElementE.innerHTML = 'Start'
      }
    }

    // 12.(r, s and v) didnt do 
    // 12.t did directly in the main project 12_R_P_S_AddEventListener.js 
    // 12.(u, w  and x) did directly in the main project as named above


  </script>
</body>
</html>